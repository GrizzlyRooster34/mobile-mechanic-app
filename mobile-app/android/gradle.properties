# Project-wide Gradle settings for maximum performance and reliability

# IDE (e.g. Android Studio) users:
# Gradle settings configured through the IDE *will override*
# any settings specified in this file.

# For more details on how to configure your build environment visit
# http://www.gradle.org/docs/current/userguide/build_environment.html

# ==============================================================================
# BUILD PERFORMANCE OPTIMIZATIONS
# ==============================================================================

# Gradle daemon settings - Optimized for React Native builds
org.gradle.jvmargs=-Xmx4096m -XX:MaxMetaspaceSize=1024m -XX:+HeapDumpOnOutOfMemoryError -XX:+UseG1GC -XX:+UseStringDeduplication -XX:+OptimizeStringConcat

# Enable parallel builds for faster compilation
org.gradle.parallel=true

# Use configuration cache for faster builds (Gradle 6.6+)
org.gradle.configuration-cache=true
org.gradle.configuration-cache.problems=warn

# Build cache for faster incremental builds
org.gradle.caching=true

# Enable file system watching for faster incremental builds
org.gradle.vfs.watch=true

# Use worker API for parallel task execution
org.gradle.workers.max=8

# Daemon idle timeout (3 hours)
org.gradle.daemon.idletimeout=10800000

# ==============================================================================
# ANDROID SPECIFIC SETTINGS
# ==============================================================================

# AndroidX package structure
android.useAndroidX=true

# Automatically convert third-party libraries to use AndroidX
android.enableJetifier=true

# Enable non-transitive R classes for faster builds
android.nonTransitiveRClass=true

# Enable resource optimizations
android.enableR8.fullMode=true
android.enableR8=true

# Enable PNG crunching in release builds
android.enablePngCrunchInReleaseBuilds=true

# Enable resource shrinking in release builds
android.enableShrinkResourcesInReleaseBuilds=true

# Enable ProGuard in release builds
android.enableProguardInReleaseBuilds=true

# Use incremental annotation processing
android.enableIncrementalDesugaring=true

# ==============================================================================
# REACT NATIVE OPTIMIZATIONS
# ==============================================================================

# Architecture support - optimized for modern devices
reactNativeArchitectures=arm64-v8a,armeabi-v7a

# New Architecture (Fabric + TurboModules) for better performance
newArchEnabled=true

# Use Hermes JS engine for better performance
hermesEnabled=true

# React Native performance flags
REACT_NATIVE_UNSTABLE_USE_RUNTIME_SCHEDULER_ALWAYS=true

# ==============================================================================
# EXPO SPECIFIC SETTINGS
# ==============================================================================

# Image format support
expo.gif.enabled=true
expo.webp.enabled=true
expo.webp.animated=true

# Network inspector for debugging
EX_DEV_CLIENT_NETWORK_INSPECTOR=true

# Modern packaging (no legacy)
expo.useLegacyPackaging=false

# ==============================================================================
# KOTLIN SETTINGS
# ==============================================================================

# Kotlin build optimizations
kotlin.daemon.jvmargs=-Xmx2048m -XX:MaxMetaspaceSize=512m
kotlin.incremental=true
kotlin.incremental.android=true
kotlin.incremental.java=true
kotlin.caching.enabled=true

# Kotlin compiler settings
kotlin.compiler.execution.strategy=in-process

# ==============================================================================
# NATIVE BUILD OPTIMIZATIONS
# ==============================================================================

# NDK settings
android.ndkVersion=26.1.10909125

# ABI Filters for production (remove x86 for smaller APKs in production)
android.bundle.enableUncompressedNativeLibs=false

# Packaging optimizations
android.bundle.language.enableSplit=true
android.bundle.density.enableSplit=true
android.bundle.abi.enableSplit=true

# ==============================================================================
# SECURITY & COMPLIANCE
# ==============================================================================

# Signing configurations
android.injected.signing.store.file=
android.injected.signing.store.password=
android.injected.signing.key.alias=
android.injected.signing.key.password=

# ==============================================================================
# DEBUGGING & DEVELOPMENT
# ==============================================================================

# Debug settings for development builds
android.enableAapt2=true
android.builder.sdkDownload=true

# Lint optimizations
android.experimental.lint.missingBaselineIsEmptyBaseline=true

# ==============================================================================
# EXPERIMENTAL FEATURES
# ==============================================================================

# Experimental features for performance
android.experimental.enableSourceSetPathsMap=true
android.experimental.enableArtProfiles=true

# Use file system watching
org.gradle.vfs.verbose=false
